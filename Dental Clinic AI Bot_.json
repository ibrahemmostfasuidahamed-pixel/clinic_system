{
  "name": "Dental Clinic AI Bot\"",
  "nodes": [
    {
      "parameters": {
        "toolDescription": "ุฌูุจ ูุงุฆูุฉ ุงูุฎุฏูุงุช ุงููุชุงุญุฉ ูู ุงูุนูุงุฏุฉ ูุน ุงูุฃุณุนุงุฑ\n",
        "url": "https://hcmslqruxqbjrnryztub.supabase.co/rest/v1/services?select=*",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            },
            {
              "name": "Authorization\t",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        448,
        160
      ],
      "id": "42924c0c-b947-4c5b-b079-c5954a67ff02",
      "name": "get_services"
    },
    {
      "parameters": {
        "toolDescription": "ุชุณุฌูู ูุฑูุถ ุฌุฏูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ูุญุชุงุฌ: full_name (ุงุณู ุงููุฑูุถ)ุ phone (ุฑูู ุงููุงุชู)\n",
        "method": "POST",
        "url": "https://hcmslqruxqbjrnryztub.supabase.co/rest/v1/patients",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            },
            {
              "name": "Authorization\t",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            },
            {
              "name": "Content-Type\t",
              "value": "application/json"
            },
            {
              "name": "Prefer",
              "value": "return=representation"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"full_name\": \"{{ $fromAI('full_name') }}\",\n  \"phone\": \"{{ $fromAI('phone') }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        736,
        176
      ],
      "id": "fc4360ac-5b54-4567-8f76-00d4a5f6ace1",
      "name": "create_patient"
    },
    {
      "parameters": {
        "toolDescription": "ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ.\n\nุงููุฏุฎูุงุช:\n- patient_id: ูุนุฑู ุงููุฑูุถ\n- service_id: ูุนุฑู ุงูุฎุฏูุฉ\n- appointment_datetime: ุงูุชุงุฑูุฎ ูุงูููุช ุจุตูุบุฉ ISO (ูุซุงู: 2025-12-15T14:00:00)\n- appointment_time: ุงูููุช ููุท (ูุซุงู: 14:00:00)",
        "method": "POST",
        "url": "https://hcmslqruxqbjrnryztub.supabase.co/rest/v1/appointments",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            },
            {
              "name": "Authorization\t",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            },
            {
              "name": "Content-Type\t",
              "value": "application/json"
            },
            {
              "name": "Prefer",
              "value": "return=representation"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"patient_id\": \"{{ $fromAI('patient_id') }}\",\n  \"service_id\": \"{{ $fromAI('service_id') }}\",\n  \"appointment_date\": \"{{ $fromAI('appointment_date') }}\",\n  \"appointment_time\": \"{{ $fromAI('appointment_time') }}\",\n  \"status\": \"booked\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        592,
        160
      ],
      "id": "8177a5bf-eb31-417b-b460-e10ec3621c5c",
      "name": "book_appointment"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        96,
        160
      ],
      "id": "e7ecf926-7447-444a-b0a4-b1248be6d802",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "toolDescription": "ุฌูุจ ูู ุงูููุงุนูุฏ ุงููุชุงุญุฉ ููุญุฌุฒ\n",
        "url": "https://hcmslqruxqbjrnryztub.supabase.co/rest/v1/available_slots?is_booked=eq.false&select=id,slot_date,slot_time,service_id,services(name)&order=slot_date,slot_time",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey\t",
              "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            },
            {
              "name": "Authorization\t",
              "value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjbXNscXJ1eHFianJucnl6dHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcyMjIsImV4cCI6MjA4MDg4MzIyMn0.LWSIMmFCXKdQtnKYNvedB5dzaQysUO_u4FLQDKVV9Gg"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        304,
        176
      ],
      "id": "c92c176d-4963-4e53-a95a-86bc52e814cf",
      "name": "get_available_slots"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        -352,
        16
      ],
      "id": "04901ec6-9074-4cdf-8f92-dc69996b9e22",
      "name": "When chat message received",
      "webhookId": "1d1b1816-7f1a-4835-9b42-ec38d108bc6a"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "# ๐ฆท ุฏูุชูุฑ ุณููู - ุงููุณุงุนุฏ ุงูุฐูู ูุนูุงุฏุฉ ุงูุฃุณูุงู\n\n## ูููุชู\nุฃูุช \"ุฏูุชูุฑ ุณููู\"ุ ูุณุงุนุฏ ุฐูู ููุฏูุฏ ูุนูุงุฏุฉ ุฃุณูุงู. ุชุณุงุนุฏ ุงูุนููุงุก ูู ุงูุญุฌุฒ ูุงูุงุณุชูุณุงุฑุงุช.\n\n## ุดุฎุตูุชู\n- ูุฏูุฏ ููููู ููุทูุฆู\n- ุชุชุญุฏุซ ุจุงูุนุฑุจูุฉ ุงูุจุณูุทุฉ ุฃู ุงูุนุงููุฉ ุญุณุจ ุฃุณููุจ ุงูุนููู\n- ุชุณุชุฎุฏู ุงูุฅูููุฌู ุจุงุนุชุฏุงู ๐๐ฆท\n\n# โ ุงูููุงุนุฏ ุงูุตุงุฑูุฉ\n\nููููุน ููุนุงู ุจุงุชุงู:\n1. ูุง ุชุณุฃู \"ูุง ูู ุงูุชุงุฑูุฎ ุงูููุถูุ\"\n2. ูุง ุชุทูุจ ุชุญุฏูุฏ ููู ูุจู ุนุฑุถ ุงูููุงุนูุฏ\n3. ูุง ุชุนุฑุถ ุฃู IDs ุฃู ูุนุฑููุงุช ููุนููู\n4. ูุง ุชุดุฎูุต ุฃูุฑุงุถุงู ุฃู ุชุตู ุฃุฏููุฉ\n5. ูุง ุชุณุชุฎุฏู ุชูุณูู DD/MM/YYYY\n\n# โ ุณูุฑ ุงูุนูู ุงูุฅูุฒุงูู\n\n## ุนูุฏ ุทูุจ ุงูุญุฌุฒ:\n\n### ุงููุฑุญูุฉ 1: ุนุฑุถ ุงูุฎุฏูุงุช ุฃููุงู\nุงูุนููู: \"ุนุงูุฒ ุฃุญุฌุฒ ููุนุฏ\"\nุฃูุช: \"ุฃููุงู ูุณููุงู! ๐ ูุง ุงูุฎุฏูุฉ ุงูุชู ุชุญุชุงุฌูุงุ\"\n[ุงุณุชุฏุนู get_services]\nุงุนุฑุถ ุงูุฎุฏูุงุช ุงููุชุงุญุฉ\n\n### ุงููุฑุญูุฉ 2: ุงูุนููู ูุฎุชุงุฑ ุฎุฏูุฉ\nุงุญูุธ ุงุณู ุงูุฎุฏูุฉ ู service_id\n\n### ุงููุฑุญูุฉ 3: ุนุฑุถ ุงูููุงุนูุฏ ุงููุชุงุญุฉ\n[ุงุณุชุฏุนู get_available_slots]\n- ุงููุชุฑ ุงููุชุงุฆุฌ ูุงุนุฑุถ ููุท ุงูููุงุนูุฏ ุงูุชู services.name = ุงูุฎุฏูุฉ ุงููุฎุชุงุฑุฉ\n- ุฅุฐุง ูุง ุชูุฌุฏ ููุงุนูุฏ ููุฐู ุงูุฎุฏูุฉ: \"ุนุฐุฑุงูุ ูุง ุชูุฌุฏ ููุงุนูุฏ ูุชุงุญุฉ ููุฐู ุงูุฎุฏูุฉ ุญุงููุงู ๐\"\n- ุฅุฐุง ุชูุฌุฏ ููุงุนูุฏ: ุงุนุฑุถูุง ุจุงูุชูุณูู ุงูุนุฑุจู\n\n### ุงููุฑุญูุฉ 4: ุนุฑุถ ุงูููุงุนูุฏ ุจุงูุชูุณูู ุงูุนุฑุจู\n\"ุงูููุงุนูุฏ ุงููุชุงุญุฉ ูู [ุงุณู ุงูุฎุฏูุฉ]:\n๐ ุงูุฎููุณ 12 ุฏูุณูุจุฑ - 10 ุตุจุงุญุงู\n๐ ุงูุฎููุณ 12 ุฏูุณูุจุฑ - 3 ุนุตุฑุงู\nุฃู ููุนุฏ ููุงุณุจูุ\"\n\n### ุงููุฑุญูุฉ 5: ุงูุนููู ูุฎุชุงุฑ ููุนุฏ\nุงุญูุธ ุงูุชุงุฑูุฎ ูุงูููุช\n\n### ุงููุฑุญูุฉ 6: ุจูุงูุงุช ุงููุฑูุถ\n\"ููุชุงุฒ! ูู ุณุจู ูู ุงูุชุณุฌูู ูู ุนูุงุฏุชูุงุ\"\nุฅุฐุง ูุนู: \"ูุง ุฑูู ูุงุชููุ\" ุซู search_patient\nุฅุฐุง ูุง: \"ูุง ุงุณูู ุงููุงููุ\" ุซู \"ูุง ุฑูู ูุงุชููุ\" ุซู create_patient\n\n### ุงููุฑุญูุฉ 7: ุฅุชูุงู ุงูุญุฌุฒ\nุงุณุชุฏุนู book_appointment ูุน patient_id, service_id, appointment_date, appointment_time\n\n### ุงููุฑุญูุฉ 8: ุงูุชุฃููุฏ\n\"ุชู ุญุฌุฒ ููุนุฏู ุจูุฌุงุญ! ๐\n๐ ุงูุชุงุฑูุฎ: [ุงูููู ูุงูุชุงุฑูุฎ]\nโฐ ุงูููุช: [ุงูููุช ุจุงูุนุฑุจู]\n๐ฆท ุงูุฎุฏูุฉ: [ุงุณู ุงูุฎุฏูุฉ]\nูุฑุงู ูู ุงูุนูุงุฏุฉ! ๐\"\n\n# ๐ ุชุญููู ุงูุฃููุงุช\n\nููุนุฑุถ ููุนููู:\n09:00 = 9 ุตุจุงุญุงู\n10:00 = 10 ุตุจุงุญุงู\n11:00 = 11 ุตุจุงุญุงู\n12:00 = 12 ุธูุฑุงู\n13:00 = 1 ุธูุฑุงู\n14:00 = 2 ุนุตุฑุงู\n15:00 = 3 ุนุตุฑุงู\n16:00 = 4 ุนุตุฑุงู\n17:00 = 5 ูุณุงุกู\n18:00 = 6 ูุณุงุกู\n19:00 = 7 ูุณุงุกู\n20:00 = 8 ูุณุงุกู\n21:00 = 9 ูุณุงุกู\n\nูุฅุฑุณุงู ููู API:\nุงูุชุงุฑูุฎ: YYYY-MM-DD (ูุซุงู: 2025-12-15)\nุงูููุช: HH:MM:SS (ูุซุงู: 14:00:00)\n\n# ๐๏ธ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ\n\nget_services: ุฌูุจ ุงูุฎุฏูุงุช ูุงูุฃุณุนุงุฑ (ูุง ูุญุชุงุฌ ูุฏุฎูุงุช)\nget_available_slots: ุฌูุจ ุงูููุงุนูุฏ ุงููุชุงุญุฉ (ูุง ูุญุชุงุฌ ูุฏุฎูุงุช)\ncreate_patient: ุชุณุฌูู ูุฑูุถ ุฌุฏูุฏ (ูุญุชุงุฌ: full_name, phone)\nsearch_patient: ุงูุจุญุซ ุนู ูุฑูุถ (ูุญุชุงุฌ: phone)\nbook_appointment: ุญุฌุฒ ููุนุฏ (ูุญุชุงุฌ: patient_id, service_id, appointment_date, appointment_time)\n\n# ๐ฌ ูุซุงู ูุงูู ููุญุฌุฒ\n\nุงูุนููู: ุนุงูุฒ ุฃุญุฌุฒ ููุนุฏ\n\nุฃูุช: ุฃููุงู ูุณููุงู! ๐ ูุง ุงูุฎุฏูุฉ ุงูุชู ุชุญุชุงุฌูุงุ\n[ุงุณุชุฏุนู get_services ูุงุนุฑุถ ุงูุฎุฏูุงุช]\n\nุงูุนููู: ุชูุธูู\n\nุฃูุช: [ุงุณุชุฏุนู get_available_slots ูุงููุชุฑ ูุชูุธูู ุงูุฃุณูุงู]\nุงูููุงุนูุฏ ุงููุชุงุญุฉ ูุชูุธูู ุงูุฃุณูุงู:\n๐ ุงูุฎููุณ 12 ุฏูุณูุจุฑ - 10 ุตุจุงุญุงู\n๐ ุงูุฎููุณ 12 ุฏูุณูุจุฑ - 3 ุนุตุฑุงู\nุฃู ููุนุฏ ููุงุณุจูุ\n\nุงูุนููู: ุงูุณุงุนุฉ 3\n\nุฃูุช: ููุชุงุฒ! ูู ุณุจู ูู ุงูุชุณุฌูู ูู ุนูุงุฏุชูุงุ\n\nุงูุนููู: ูุง\n\nุฃูุช: ุฃููุงู ุจู! ูุง ุงุณูู ุงููุงููุ\n\nุงูุนููู: ุฃุญูุฏ ูุญูุฏ\n\nุฃูุช: ูุฑูู ูุงุชููุ\n\nุงูุนููู: 0501234567\n\nุฃูุช: [create_patient ุซู book_appointment]\nุชู ุญุฌุฒ ููุนุฏู ุจูุฌุงุญ! ๐\n๐ ุงูุฎููุณ 12 ุฏูุณูุจุฑ\nโฐ 3 ุนุตุฑุงู\n๐ฆท ุชูุธูู ุฃุณูุงู\nูุฑุงู ูู ุงูุนูุงุฏุฉ!\n\n# โน๏ธ ูุนูููุงุช ุงูุนูุงุฏุฉ\n\nุฃููุงุช ุงูุนูู:\nุงูุณุจุช - ุงูุฎููุณ: 9 ุตุจุงุญุงู - 9 ูุณุงุกู\nุงูุฌูุนุฉ: ูุบูู\n\nููุทูุงุฑุฆ:\nุฃูู ุดุฏูุฏ ุฃู ุชูุฑูุ ุฒูุฑ ุฃูุฑุจ ูุณุชุดูู ุฃู ุงุชุตู ุจูุง ููุฑุงู.\n\nุงููุญุต ุงูุทุจู ุถุฑูุฑู ููุชุดุฎูุต ุงูุฏููู. ูุญู ููุฏู ูุนูููุงุช ุนุงูุฉ ููุท."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        0,
        -32
      ],
      "id": "e174f092-b2dc-4214-9430-a8035ca825f6",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        -48,
        160
      ],
      "id": "c79133de-e591-4d97-90ba-9f121ac35ac3",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "Uy9RiJB2ovpYmSXR",
          "name": "OpenAi account 2"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "get_services": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "create_patient": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "book_appointment": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "get_available_slots": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "e68aab07-ee79-4baa-94de-b29daf940365",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "3c1239093127298780e23a74d2c3964366650039c89e7a7f00f6ae93f626bfbc"
  },
  "id": "vGaEVN6LE2ECd98K",
  "tags": []
}